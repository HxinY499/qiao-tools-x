{"title":"全站暗色模式与主题切换功能","features":["全站支持明/暗双主题，布局与工具界面自动适配","顶部导航提供显眼的主题切换按钮，图标直观显示当前状态","首次访问自动跟随系统配色偏好，并在后续记住用户选择","复用现有语义颜色和 CSS 变量，保证明暗模式下视觉统一"],"tech":{"Web":{"arch":"react","component":"shadcn"},"iOS":null,"Android":null},"design":"采用现代工具型 Web 布局，顶部导航 + 侧边栏 + 主内容区域。明暗双主题以中性色和科技蓝点缀为主，卡片圆角与柔和阴影增强层级。主题切换按钮位于右上角，使用日/月图标和细腻动效，切换时通过 CSS 变量柔和过渡，确保在桌面与小屏设备上都清晰、易用且无明显闪烁。","plan":{"实现主题首选项解析逻辑：综合系统偏好与 localStorage，计算生效主题并在应用启动时设置根元素的 `dark` class。":"holding","编写全局主题管理模块（Context/Hook），统一提供当前主题、模式（跟随系统/固定）、和切换方法。":"holding","在 App 顶部导航栏添加显眼的主题切换按钮，支持图标、状态提示和 Tooltip，并接入主题切换逻辑。":"holding","在全局设置或偏好面板中增加“跟随系统 / 亮色 / 暗色”三种模式选项，支持一键切换并持久化。":"holding","检查主要工具页面对语义颜色类的使用，微调个别组件，确保在暗色模式下的对比度与层级关系合理。":"holding","优化主题切换的过渡动画与首屏加载体验，减少明暗切换时的闪烁，并确认在窄屏布局中的显示效果。":"holding"}}