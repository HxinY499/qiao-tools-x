# SEO 分析与评分逻辑文档

本文档详细说明了 SEO 分析工具的评分算法、检测项权重及各类指标的判定标准。

## 1. 评分系统核心设计

本工具采用 **"满分扣分制"** 算法，与 Lighthouse 等专业工具的设计理念保持一致。

- **基准分**：**100 分**
- **评分逻辑**：从满分开始，根据发现的问题严重程度（Severity）和问题权重（Weight）进行扣分。
- **分值范围**：0 - 100 分（最低 0 分，不会出现负分）。
- **优势**：避免了传统"平均分"算法中，因大量无关紧要的 Info 项稀释了致命错误（如缺少 Title）权重的问题。

### 权重定义

每个检测项被分配了一个权重等级，对应不同的扣分基准：

| 权重等级 | 描述 | Error 扣分 | Warning 扣分 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| **Critical** | **致命错误**，严重影响搜索引擎收录 | **-30** | **-15** | 缺少 `<title>`，缺少 `<h1>` |
| **High** | **高优先级**，显著影响排名或体验 | **-15** | **-7** | 缺少 Description，无 Viewport |
| **Medium** | **中等优先级**，建议优化的标准项 | **-10** | **-5** | 缺少 Canonical，缺少 OG 标签 |
| **Low** | **低优先级**，细节优化或代码规范 | **-5** | **-2** | 缺少 DOCTYPE，图片未指定尺寸 |
| **None** | **仅展示**，不参与评分 | **0** | **0** | 链接数量统计，Robots 正常 |

> **注**：`Info` 级别和 `Success` 级别的检测项**永远不扣分**。

---

## 2. 详细检测逻辑

### 2.1 基础 Meta 信息 (Meta Tags)

| 检测项 | 判定标准 | 级别 | 权重 |
| :--- | :--- | :--- | :--- |
| **Title** | 缺失 | Error | Critical |
| | 长度 < 10 字符 (极短) | Error | High |
| | 长度 < 30 或 > 70 字符 | Warning | Medium |
| **Description** | 缺失 | Error | High |
| | 长度 < 50 或 > 180 字符 | Warning | Medium |
| **Viewport** | 缺失 | Error | High |
| | 未包含 `width=device-width` | Warning | Medium |
| **Canonical** | 缺失 | Warning | Medium |
| **Robots** | 包含 `noindex` / `nofollow` | Warning | None (仅提示) |

### 2.2 标题结构 (Headings)

| 检测项 | 判定标准 | 级别 | 权重 |
| :--- | :--- | :--- | :--- |
| **H1 标签** | 数量 = 0 (缺失) | Error | Critical |
| | 数量 > 1 (重复) | Error | High |
| **层级结构** | 存在跳级 (如 H2 -> H4) | Warning | Medium |

### 2.3 图片优化 (Images)

| 检测项 | 判定标准 | 级别 | 权重 |
| :--- | :--- | :--- | :--- |
| **Alt 属性** | 缺失率 > 50% | Error | Medium |
| | 缺失率 > 0% | Warning | Low |
| **尺寸属性** | 缺失率 > 50% (未指定宽高) | Warning | Low |

### 2.4 社交媒体标签 (Social Tags)

| 检测项 | 判定标准 | 级别 | 权重 |
| :--- | :--- | :--- | :--- |
| **Open Graph** | 核心字段完全缺失 | Warning | Medium |
| | 字段不完整 (<4 个) | Warning | Low |
| **Twitter Card**| 完全缺失 | Info | None |

### 2.5 链接分析 (Links)

| 检测项 | 判定标准 | 级别 | 权重 |
| :--- | :--- | :--- | :--- |
| **外链安全** | 外链存在 `target="_blank"` 但无 `noopener` | Warning | Low |
| **链接统计** | 内链/外链数量统计 | Info | None |

### 2.6 结构化数据 (Structured Data)

| 检测项 | 判定标准 | 级别 | 权重 |
| :--- | :--- | :--- | :--- |
| **JSON-LD** | 解析失败 (语法错误) | Error | Medium |
| **存在性** | 未检测到任何结构化数据 | Info | None |

### 2.7 HTML 结构

| 检测项 | 判定标准 | 级别 | 权重 |
| :--- | :--- | :--- | :--- |
| **DOCTYPE** | 缺失 | Error | Low |
| **Lang 属性** | `<html>` 标签缺少 `lang` | Warning | Low |
| **语义化标签** | 未使用 `<header>`, `<main>` 等 | Info | None |

---

## 3. 评分等级说明

最终得分将对应以下四个等级：

- **🟢 优秀 (80-100分)**：页面 SEO 基础扎实，无严重错误。
- **🟡 良好 (60-79分)**：存在一些需要优化的问题，但核心指标正常。
- **🔴 一般 (40-59分)**：存在较多问题，包含部分高权重错误。
- **🔴 较差 (0-39分)**：存在致命错误（如缺少 Title 或 H1），急需修复。
