/**
 * Whitey Dark Theme - Migrated from Typora
 * Original: https://github.com/typora/typora-default-themes/blob/master/themes/whitey-deep.css
 * 
 * 特点：深蓝色背景，经典衬线字体排版，居中标题，h2 下划线装饰
 */

/* ========== 容器与背景 ========== */
.markdown-body {
  --whitey-bg: #1E222A;
  --whitey-text: #CECFCF;
  --whitey-link: #4fb3ff;
  --whitey-border: #444;
  --whitey-code-bg: #011f4b;
  --content-max-width: 960px;
  --content-padding-x: 24px;
  --content-padding-y: 40px;

  /* Shiki Code Highlight Variables - Deep Blue Dark */
  --shiki-foreground: #d4d4d4;
  --shiki-background: #011f4b;
  --shiki-token-constant: #79c0ff;
  --shiki-token-string: #a5d6ff;
  --shiki-token-comment: #6e7681;
  --shiki-token-keyword: #ff7b72;
  --shiki-token-parameter: #d4d4d4;
  --shiki-token-function: #d2a8ff;
  --shiki-token-string-expression: #7ee787;
  --shiki-token-punctuation: #d4d4d4;
  --shiki-token-link: #4fb3ff;

  /* Mermaid Theme Variables */
  --mermaid-background: #1E222A;
  --mermaid-primaryColor: #2a3040;
  --mermaid-primaryTextColor: #CECFCF;
  --mermaid-primaryBorderColor: #4fb3ff;
  --mermaid-lineColor: #888888;
  --mermaid-textColor: #CECFCF;
  
  background-color: var(--whitey-bg);
  color: var(--whitey-text);
  font-family: "Vollkorn", Palatino, "Palatino Linotype", "Book Antiqua", Georgia, Times, serif;
  font-size: 19px;
  line-height: 1.53;
  text-align: justify;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100%;
  padding: var(--content-padding-y) max(var(--content-padding-x), calc((100% - var(--content-max-width)) / 2 + var(--content-padding-x))) 2em;
  hyphens: auto;
  -webkit-hyphens: auto;
  -moz-hyphens: auto;
}

@media only screen and (min-width: 1400px) {
  .markdown-body {
    --content-max-width: 1100px;
  }
}

/* ========== 标题 ========== */
.markdown-body h1,
.markdown-body h2,
.markdown-body h3 {
  text-align: center;
  font-weight: normal;
  color: var(--whitey-text);
}

.markdown-body h1 {
  font-size: 3em;
  margin-top: 1.6em;
  margin-bottom: 0.5em;
}

.markdown-body h1:first-child {
  margin-top: 0;
}

.markdown-body h2 {
  font-size: 2em;
  margin-top: 2em;
  margin-bottom: 0.5em;
  position: relative;
  padding-bottom: 0.5em;
}

.markdown-body h2::after {
  content: '';
  display: block;
  width: 100px;
  height: 1px;
  background-color: var(--whitey-text);
  margin: 0.5em auto 0;
}

.markdown-body h3 {
  font-size: 1.5em;
  font-style: italic;
  margin-top: 3em;
  margin-bottom: 0.5em;
}

.markdown-body h4 {
  font-size: 1.25em;
  font-weight: normal;
  margin-top: 2em;
  margin-bottom: 0.5em;
}

.markdown-body h5 {
  font-size: 1.1em;
  font-weight: normal;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.markdown-body h6 {
  font-size: 1em;
  font-weight: normal;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  color: #999;
}

.markdown-body h1 + h2,
.markdown-body h2 + h3 {
  margin-top: 0.83em;
}

/* ========== 段落与文本 ========== */
.markdown-body p {
  margin-top: 0;
  margin-bottom: 1em;
}

.markdown-body strong {
  font-weight: bold;
}

.markdown-body em {
  font-style: italic;
}

/* ========== 链接 ========== */
.markdown-body a {
  color: var(--whitey-link);
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body h1 a,
.markdown-body h1 a:hover {
  color: var(--whitey-text);
  text-decoration: none;
}

/* ========== 列表 ========== */
.markdown-body ul {
  list-style: square;
  padding-left: 1.2em;
  margin-bottom: 1em;
}

.markdown-body ol {
  padding-left: 1.2em;
  margin-bottom: 1em;
}

.markdown-body li {
  margin-bottom: 0.25em;
}

.markdown-body li > ul,
.markdown-body li > ol {
  margin-top: 0.25em;
  margin-bottom: 0;
}

/* ========== 引用 ========== */
.markdown-body blockquote {
  margin: 1em 0 1em 1em;
  padding-left: 1em;
  border-left: 1px solid var(--whitey-border);
  color: var(--whitey-text);
}

.markdown-body blockquote p:last-child {
  margin-bottom: 0;
}

/* ========== 代码 ========== */
.markdown-body code {
  font-family: "Consolas", "Menlo", "Monaco", monospace, serif;
  font-size: 0.85em;
  background: var(--whitey-code-bg);
  color: var(--whitey-text);
  padding: 0.2em 0.4em;
  border-radius: 3px;
}

.markdown-body pre {
  font-family: "Consolas", "Menlo", "Monaco", monospace, serif;
  font-size: 0.85em;
  background: var(--whitey-code-bg);
  color: var(--whitey-text);
  margin: 0 0 1.5em 1em;
  padding: 6px 1em 8px;
  border: 1px solid var(--whitey-border);
  overflow-x: auto;
  line-height: 1;
}

.markdown-body pre code {
  padding: 0;
  background: transparent;
  border-radius: 0;
  font-size: inherit;
  line-height: inherit;
}

/* Shiki 语法高亮 */
.markdown-body pre .shiki {
  background: transparent !important;
  margin: 0;
  padding: 0;
}

.markdown-body .shiki .line {
  display: block;
  line-height: 1;
}

/* ========== 分隔线 ========== */
.markdown-body hr {
  height: 1px;
  margin: 2em 0;
  border: none;
  border-top: 1px solid var(--whitey-border);
  background: transparent;
}

/* ========== 表格 ========== */
.markdown-body table {
  width: 100%;
  margin-bottom: 1.333333rem;
  border-collapse: collapse;
}

.markdown-body table th,
.markdown-body table td {
  padding: 8px;
  line-height: 1.333333rem;
  vertical-align: top;
  border-top: 1px solid var(--whitey-border);
  text-align: left;
  color: var(--whitey-text);
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table thead th {
  vertical-align: bottom;
}

.markdown-body table thead:first-child tr:first-child th,
.markdown-body table thead:first-child tr:first-child td {
  border-top: 0;
}

.markdown-body table tbody + tbody {
  border-top: 2px solid var(--whitey-border);
}

/* ========== 图片 ========== */
.markdown-body img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 1em auto;
}

/* ========== 任务列表 ========== */
.markdown-body .task-list-item {
  list-style: none;
  position: relative;
  padding-left: 0.2em;
}

.markdown-body .task-list-item input[type="checkbox"] {
  margin-right: 0.5em;
  vertical-align: middle;
}

/* ========== 脚注 ========== */
.markdown-body .footnotes {
  font-size: 0.85em;
  color: #999;
  margin-top: 2em;
  padding-top: 1em;
  border-top: 1px solid var(--whitey-border);
}

.markdown-body .footnote-ref {
  font-size: 0.75em;
  vertical-align: super;
}

/* ========== 数学公式 ========== */
.markdown-body .math {
  overflow-x: auto;
  margin: 1em 0;
}

/* ========== 打印样式 ========== */
@media print {
  .markdown-body {
    font-size: 13px;
    max-width: 100%;
    padding: 0;
    background: white;
    color: #333;
  }
  
  .markdown-body ol {
    padding-left: 40px;
  }
}
